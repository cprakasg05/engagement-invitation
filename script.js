const translations = {
  en: {
    name1: "Suriyaprakash",
    name2: "Sisira",
    couple: "Couple Story",
    venue: "Venue Details",
    food: "ЁЯН╜я╕П Menu Highlights",
    photos: "Photos",
    withlove: "With love,<br> Kumar & Vijayalakshmi, Raveendran & Syamala",
    back: "Back to Home",
    food1: "Ashoka Halwa",
    food2: "Kara Paniyaram",
    food3: "Beetroot Idiyappam",
    food4: "Keera Adai",
    food5: "Chapathi",
    food6: "Curd Rice",
    food7: "Idly",
    food8: "Masala Milk",
    "venue-hall": "Sri Vasavi Marriage Hall",
    "venue-address": "Thirumarugal, Tamil Nadu",
    "venue-date": "24th August 2025, From 6 PM onwards",
    "venue-map": "Open in Google Maps",
    "venue-contact1": "Suriyaprakash: 9159109955",
    "venue-contact2": "Vijay (CP): 7339646162",
    "venue-contact3": "Kumar: 9488003374",
    "venue-contact4": "Sisira: 9159109955"
  },
  ta: {
    name1: "роЪрпВро░ро┐ропрокрпНро░роХро╛ро╖рпН",
    name2: "роЪро┐роЪро┐ро░ро╛",
    couple: "роЬрпЛроЯро┐ роХродрпИ",
    venue: "роиро┐роХро┤рпНро╡рпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпН",
    food: "ЁЯН╜я╕П роорпЖройрпБ роЪро┐ро▒рокрпНрокроорпНроЪроЩрпНроХро│рпН",
    photos: "рокрпБроХрпИрокрпНрокроЯроЩрпНроХро│рпН",
    withlove: "роЕройрпНрокрпБроЯройрпН,<br>роХрпБрооро╛ро░рпН & ро╡ро┐роЬропро▓роЯрпНроЪрпБрооро┐, ро░ро╡рпАроирпНродро┐ро░ройрпН & роЪро┐ропро╛рооро│ро╛",
    back: "роорпБроХрокрпНрокрпБроХрпНроХрпБ родро┐ро░рпБроорпНрокро╡рпБроорпН",
    food1: "роЕроЪрпЛроХро╛ ро╣ро▓рпНро╡ро╛",
    food2: "роХро╛ро░ рокрогро┐ропро╛ро░роорпН",
    food3: "рокрпАроЯрпНро░рпВроЯрпН роЗроЯро┐ропро╛рокрпНрокроорпН",
    food4: "роХрпАро░рпИ роЕроЯрпИ",
    food5: "роЪрокрпНрокро╛родрпНродро┐",
    food6: "родропро┐ро░рпН роЪро╛родроорпН",
    food7: "роЗроЯрпНро▓ро┐",
    food8: "роороЪро╛ро▓ро╛ рокро╛ро▓рпН",
    "venue-hall": "ро╕рпНро░рпА ро╡ро╛роЪро╡ро┐ родро┐ро░рпБроорог роорогрпНроЯрокроорпН",
    "venue-address": "родро┐ро░рпБрооро░рпБроХро▓рпН, родрооро┐ро┤рпНроиро╛роЯрпБ",
    "venue-date": "24 роЖроХро╕рпНроЯрпН 2025, рооро╛ро▓рпИ 6 роорогро┐ роорпБродро▓рпН",
    "venue-map": "роХрпВроХрпБро│рпН роорпЗрокрпНрокро┐ро▓рпН родро┐ро▒роХрпНроХро╡рпБроорпН",
    "venue-contact1": "роЪрпВро░ро┐ропрокрпНро░роХро╛ро╖рпН: 9159109955",
    "venue-contact2": "ро╡ро┐роЬропрпН (CP): 7339646162",
    "venue-contact3": "роХрпБрооро╛ро░рпН: 9488003374",
    "venue-contact4": "роЪро┐роЪро┐ро░ро╛: 9159109955"
  },
  ml: {
    name1: "р┤╕р╡Вр┤░р╡Нр┤пр┤кр╡Нр┤░р┤Хр┤╛р┤╢р╡Н",
    name2: "р┤╕р┤┐р┤╕р┤┐р┤░",
    couple: "р┤жр┤ор╡Нр┤кр┤др┤┐р┤Хр┤│р╡Бр┤Яр╡Ж р┤Хр┤е",
    venue: "р┤╡р╡Зр┤жр┤┐ р┤╡р┤┐р┤╡р┤░р┤Щр╡Нр┤Щр╡╛",
    food: "ЁЯН╜я╕П р┤ор╡Жр┤ир╡Б р┤╣р╡Ир┤▓р╡Ир┤▒р╡Нр┤▒р╡Нр┤╕р╡Н",
    photos: "р┤Ър┤┐р┤др╡Нр┤░р┤Щр╡Нр┤Щр╡╛",
    withlove: "р┤╕р╡Нр┤ир╡Зр┤╣р┤др╡Нр┤др╡Лр┤Яр╡Ж,<br> р┤Хр╡Бр┤ор┤╛р╡╝ & р┤╡р┤┐р┤Ьр┤пр┤▓р┤Хр╡Нр┤╖р╡Нр┤ор┤┐, р┤░р┤╡р╡Ар┤ир╡Нр┤жр╡Нр┤░р╡╗ & р┤╢р╡Нр┤пр┤╛р┤ор┤│",
    back: "р┤╡р╡Ар┤Яр╡Нр┤Яр┤┐р┤▓р╡Зр┤Хр╡Нр┤Хр╡Н р┤ор┤Яр┤Щр╡Нр┤Щр╡Бр┤Х",
    food1: "р┤Ер┤╢р╡Лр┤Х р┤╣р┤▓р╡НтАНр┤╡",
    food2: "р┤Хр┤╛р┤░ р┤кр┤гр┤┐р┤пр┤╛р┤░р┤В",
    food3: "р┤мр╡Ар┤▒р╡Нр┤▒р╡Нр┤▒р╡Вр┤Яр╡Нр┤Яр╡Н р┤Зр┤Яр┤┐р┤пр┤кр╡Нр┤кр┤В",
    food4: "р┤Хр╡Ар┤░ р┤Ер┤Я",
    food5: "р┤Ър┤кр╡Нр┤кр┤╛р┤др╡Нр┤др┤┐",
    food6: "р┤др┤пр┤┐р┤░р╡Н р┤Ър╡Лр┤▒р╡Н",
    food7: "р┤Зр┤бр╡Нр┤бр┤▓р┤┐",
    food8: "р┤ор┤╕р┤╛р┤▓ р┤кр┤╛р┤▓р╡НтАН",
    "venue-hall": "р┤╢р╡Нр┤░р╡А р┤╡р┤╛р┤╕р┤╡р┤┐ р┤╡р┤┐р┤╡р┤╛р┤╣ р┤╣р┤╛р╡╛",
    "venue-address": "р┤др┤┐р┤░р╡Бр┤ор┤░р╡Бр┤Чр╡╜, р┤др┤ор┤┐р┤┤р╡Нр┤ир┤╛р┤Яр╡Н",
    "venue-date": "2025 р┤Ур┤Чр┤╕р╡Нр┤▒р╡Нр┤▒р╡Н 24, р┤╡р╡Ир┤Хр┤┐р┤Яр╡Нр┤Яр╡Н 6 р┤ор┤гр┤┐ р┤ор╡Бр┤др╡╜",
    "venue-map": "р┤Чр╡Вр┤Чр┤┐р╡╛ р┤ор┤╛р┤кр╡Нр┤кр┤┐р╡╜ р┤др╡Бр┤▒р┤Хр╡Нр┤Хр╡Бр┤Х",
    "venue-contact1": "р┤╕р╡Вр┤░р╡Нр┤пр┤кр╡Нр┤░р┤Хр┤╛р┤╢р╡Н: 9159109955",
    "venue-contact2": "р┤╡р┤┐р┤Ьр┤пр╡Н (CP): 7339646162",
    "venue-contact3": "р┤Хр╡Бр┤ор┤╛р╡╝: 9488003374",
    "venue-contact4": "р┤╕р┤┐р┤╕р┤┐р┤░: 9159109955"
  }
};

function setLanguage(lang) {
  document.querySelectorAll('[data-key]').forEach(el => {
    const key = el.getAttribute('data-key');
    if (translations[lang] && translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  // Special logic for story.html: show only the correct story block
  const storyKeys = ['couple-story-en', 'couple-story-ta', 'couple-story-ml'];
  storyKeys.forEach(key => {
    document.querySelectorAll(`[data-key="${key}"]`).forEach(el => {
      if ((lang === 'en' && key === 'couple-story-en') ||
          (lang === 'ta' && key === 'couple-story-ta') ||
          (lang === 'ml' && key === 'couple-story-ml')) {
        el.style.display = '';
      } else {
        el.style.display = 'none';
      }
    });
  });
}

// Countdown Timer for Event (24 August 2025, 6:00 PM)
document.addEventListener('DOMContentLoaded', () => {
  const audio = document.querySelector('audio');
  const muteButton = document.querySelector('#mute-btn') || document.querySelector('#muteButton');
  
  if (muteButton && audio) {
    muteButton.addEventListener('click', () => {
      audio.muted = !audio.muted;
      muteButton.innerHTML = audio.muted ? '&#128263;' : '&#128266;';
    });
  }

  // Countdown Timer
  const countdownEl = document.getElementById('countdown-timer') || document.getElementById('countdown');
  if (countdownEl) {
    function updateCountdown() {
      const eventDate = new Date('2025-08-24T18:00:00+05:30');
      const now = new Date();
      const diff = eventDate - now;
      if (diff > 0) {
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);
        countdownEl.innerHTML = `<span class="countdown-label">Event starts in:</span> <span class="countdown-numbers">${days}d ${hours}h ${minutes}m ${seconds}s</span>`;
      } else {
        countdownEl.innerHTML = '<span class="countdown-live">The event has started!</span>';
      }
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);
  }
});